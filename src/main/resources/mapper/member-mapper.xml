<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="member">

	<resultMap type="member" id="memberMap">
	</resultMap>

	<select id="selectOne" resultMap="memberMap" parameterType="string">
		SELECT * FROM MEMBER WHERE MEMBER_ID=#{member_id}
	</select>

	<select id="selectIdCheck" parameterType="string" resultType="_int">
		SELECT COUNT(*) FROM MEMBER WHERE MEMBER_ID=#{member_id}
	</select>

	<select id="selectEmailCheck" parameterType="string" resultType="_int">
		SELECT COUNT(*) FROM MEMBER WHERE MEMBER_EMAIL=#{member_email} 
	</select>
	
	<insert id="insertMember" parameterType="member">
		insert into member values(member_seq.nextval, #{member_id}, #{member_pw}, #{member_name}, #{member_phone}, #{member_email},
		#{member_address}, #{member_ori_img}, #{member_re_img}, default)
		<selectKey resultType="_int" order="AFTER" keyProperty="member_pk">
			select member_seq.currval from dual
		</selectKey>
	</insert>

</mapper>